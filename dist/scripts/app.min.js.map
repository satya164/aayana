{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/scripts/app.js","src/scripts/instagram.js","src/scripts/jsonp.js"],"names":[],"mappings":"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","file":"app.min.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import instagram from \"./instagram\";\n\nfunction loadPhotos(err, res) {\n    let stream = document.getElementById(\"instagram-stream\");\n\n    if (err) {\n        stream.innerHTML = '<div class=\"col small-12\">An error occurred while loading photos :(</div>';\n\n        return;\n    }\n\n    if (res.data.length === 0) {\n        stream.innerHTML = '<div class=\"col small-12\">No photos found :(</div>';\n\n        return;\n    }\n\n    let fragment = document.createDocumentFragment();\n\n    res.data.forEach(p => {\n        let div = document.createElement(\"div\"),\n            link = document.createElement(\"a\"),\n            image = document.createElement(\"img\"),\n            caption = document.createElement(\"figcaption\");\n\n        div.className = \"col small-12 medium-6 large-4\";\n\n        link.className = \"photo\";\n        link.target = \"_blank\";\n        link.href = p.link;\n\n        if (window.screen.width <= 360 && window.devicePixelRatio === 1) {\n            image.src = p.images.low_resolution.url;\n        } else {\n            image.src = p.images.standard_resolution.url;\n        }\n\n        for (let i = 0, l = p.tags.length; i < l; i++) {\n            const tag = p.tags[i];\n\n            if (i < (l - 1) && (tag === \"iamaayana\" || tag.length > 15)) {\n                continue;\n            }\n\n            caption.setAttribute(\"data-title\", tag);\n\n            break;\n        }\n\n        link.appendChild(image);\n        link.appendChild(caption);\n\n        div.appendChild(link);\n\n        fragment.appendChild(div);\n    });\n\n    stream.innerHTML = \"\";\n    stream.appendChild(fragment);\n}\n\ninstagram((err, res) => {\n    if (document.readyState === \"complete\") {\n        loadPhotos(err, res);\n    } else {\n        document.onreadystatechange = () => {\n            if (document.readyState === \"complete\") {\n                loadPhotos(err, res);\n            }\n        };\n    }\n});\n","import jsonp from \"./jsonp\";\n\nconst CLIENT_ID = \"a93dfcee57b64124adc5fbc10181a7d0\";\nconst TAG = \"iamaayana\";\n\nexport default function instagram(cb) {\n    function getPhotos(callback) {\n        jsonp(`https://api.instagram.com/v1/tags/${TAG}/media/recent?client_id=${CLIENT_ID}&count=12`, function(err, res) {\n            if (err) {\n                return callback(err);\n            }\n\n            callback(null, res);\n\n            if (res && res.data && res.data.length) {\n                // Cache the response\n                try {\n                    window.localStorage.setItem(\"instagram-photos\", JSON.stringify({\n                        response: res,\n                        timestamp: Date.now()\n                    }));\n                } catch(e) {\n                    // Failed to cache data\n                }\n            }\n        });\n    }\n\n    let cached;\n\n    try {\n        cached = JSON.parse(window.localStorage.getItem(\"instagram-photos\"));\n    } catch(e) {\n        // We don't have any cached data\n    }\n\n    if (cached) {\n        let timestamp = parseInt(cached.timestamp, 10);\n\n        if (cached.response && cached.response.data && cached.response.data.length) {\n            // Return cached data\n            cb(null, cached.response);\n\n            if (isNaN(timestamp) || Date.now() - timestamp > 3600000) {\n                // It's been over an hour\n                try {\n                    window.localStorage.deleteItem(\"instagram-photos\");\n                } catch(e) {\n                    // Failed to clear data\n                }\n\n                // Fetch data again\n                getPhotos(() => {});\n            }\n\n            return;\n        }\n    }\n\n    getPhotos(cb);\n}\n","export default function jsonp(url, cb) {\n    let callbackName = \"jsonp_callback_\" + Math.round(100000 * Math.random());\n\n    let script = document.createElement(\"script\");\n\n    window[callbackName] = function(data) {\n        delete window[callbackName];\n\n        document.body.removeChild(script);\n\n        cb(null, data);\n    };\n\n    script.src = url + (url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + \"callback=\" + callbackName;\n\n    script.onerror = () => cb(new Error(\"Failed to load script\"));\n\n    document.body.appendChild(script);\n}\n"]}